import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;

/**
 * –≥–ª–∞–≤–Ω—ã–π —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –∫–ª–∞—Å—Å: <br>
 *      - –ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã <br>
 *      - —Ü–∏–∫–ª –∏–≥—Ä—ã <br>
 *      - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞ <br>
 *      - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∞–∑—ã –∏–≥—Ä–æ–∫–∞ <br>
 * ----------------------------------------------------------------------------------------------- <br>
 * –ø–æ–ª—è: <br>
 *      - ‚ì¢{@link Start#q} —Ñ–ª–∞–≥ –≤—ã—Ö–æ–¥–∞ <br>
 *      - ‚ì¢{@link Start#b1} –±–∞–∑–∞ –∏–≥—Ä–æ–∫–∞ <br>
 *      - ‚ì¢{@link Start#b2} –±–∞–∑–∞ –≤—Ä–∞–≥–∞ <br>
 * –º–µ—Ç–æ–¥—ã: <br>
 *      - üîí‚ì¢{@link Start#rules()} –≤—ã–≤–æ–¥ –ø—Ä–∞–≤–∏–ª <br>
 *      - üîí‚ì¢{@link Start#in()} –≤–≤–æ–¥ <br>
 *      - üîí‚ì¢{@link Start#info()} –≤—ã–≤–æ–¥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∞–∑—ã –∏–≥—Ä–æ–∫–∞ <br>
 *      - üö∂‚ì¢{@link Start#main(String[])} —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –∫–ª–∞—Å—Å <br>
 */
public class Start {
    static boolean q = false;
    static Base b1, b2;

    public static void main(String[] args) {
        //rules
        rules();

        //load
        b1 = new Base();
        b2 = new Base();

        //go
        System.out.println("---------------------------------------------------------------------------");
        while (!q) {
            //info
            info();

            //in -> commands
            Coms.go(in());
        }
    }

    private static void rules() {
        System.out.println("–ö–æ–º–∞–Ω–¥–∏—Ä! –ú—ã –≤–æ–∑–≤–µ–ª–∏ –í–∞—à \"–¶–µ–Ω—Ç—Ä –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è\" –Ω–∞ –ú–∞—Ä—Å–µ –≤ –∫–≤–∞–¥—Ä–∞—Ç–µ 4, 2.\n" +
                            "–ï—Å–ª–∏ –º—ã –∑–∞—â–∏—Ç–∏–º –µ–≥–æ –∏ —É–Ω–∏—á—Ç–æ–∂–∏–º –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞ - –∫–≤–∞–¥—Ä–∞—Ç –±—É–¥–µ—Ç –Ω–∞—à–∏–º.\n" +
                            "–î–ª—è –í–∞—à–µ–≥–æ —É–¥–æ–±—Å—Ç–≤–∞ –º—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ 4 –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–æ–≤–ª–µ–Ω–∏—è:\n" +
                            " - c - —É–∫—Ä–µ–ø–∏—Ç—å\\–ø–æ—á–∏–Ω–∏—Ç—å \"–¶–µ–Ω—Ç—Ä –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è\"\n" +
                            "       (+ 2*\"–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è –º–æ—â–Ω–æ—Å—Ç—å\" –µ–¥–µ–Ω–∏—Ü –ø—Ä–æ—á–Ω–æ—Å—Ç–∏)\n" +
                            " - p - —É–≤–µ–ª–∏—á–∏—Ç—å \"–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–æ—â–Ω–æ—Å—Ç–∏\"\n" +
                            "       (+ 1 –µ–¥–µ–Ω–∏—Ü–∞)\n" +
                            " - o - —Å–æ–æ—Ä—É–¥–∏—Ç—å –æ–±–æ—Ä–æ–Ω—É\n" +
                            "       (+ 4*\"–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è –º–æ—â–Ω–æ—Å—Ç—å\" –µ–¥–µ–Ω–∏—Ü)\n" +
                            " - a - –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∞—Ç–∞–∫—É\n" +
                            "       (+ 2^(\"–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è –º–æ—â–Ω–æ—Å—Ç—å\" - 1) –µ–¥–µ–Ω–∏—Ü," +
                            " 1 –µ–¥–µ–Ω–∏—Ü–∞ —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç (1 –æ–±–æ—Ä–æ–Ω—ã) –∏–ª–∏ (2 \"–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–æ—â–Ω–æ—Å—Ç–∏\"\n" +
                            "        –∏ 1 –ø—Ä–æ—á–Ω–æ—Å—Ç–∏ \"–¶–µ–Ω—Ç—Ä–∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è\") –µ—Å–ª–∏ –Ω–µ—Ç –æ–±–æ—Ä–æ–Ω—ã)\n" +
                            "(–¥–ª—è —É—Ö–æ–¥–∞ –≤ –æ—Ç—Å—Ç–≤–∞–∫—É –≤–≤–µ–¥–∏—Ç–µ q)");
    }

    private static String in() {
        String s;
        try {
            BufferedReader is = new BufferedReader(new InputStreamReader(System.in));
            s = is.readLine();
        } catch (IOException e) {
            e.printStackTrace();
            s = "error: in";
            q = true;
        }
        return s;
    }

    private static void info() {
        System.out.println("–¶–µ–Ω—Ç—Ä –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è: " + b1.cu +
                "\n–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–æ—â–Ω–æ—Å—Ç–∏: " + b1.pm +
                "\n–û–±–æ—Ä–æ–Ω–∞: " + b1.o + "\n");
    }
}
